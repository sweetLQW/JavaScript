<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set</title>
</head>
<body>
    <p> ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。<br>
        Set本身是一个构造函数，用来生成 Set 数据结构。
    </p>
    <script>
        // Set.prototype.add(value)：添加某个值，返回 Set 结构本身。
        // Set.prototype.delete(value)：删除某个值，返回一个布尔值，表示删除是否成功。
        // Set.prototype.has(value)：返回一个布尔值，表示该值是否为Set的成员。
        // Set.prototype.clear()：清除所有成员，没有返回值。

        // 不会添加重复的数据
        const s = new Set();
        [2, 3, 5, 4, 5, 2, 2].forEach(x => s.add(x));
        for (let i of s) {
            console.log(i);
        }

        // Set函数可以接受一个数组（或者具有 iterable 接口的其他数据结构）作为参数，用来初始化。
        const a = new Set([1, 3, 5, 6]);
        console.log(a);
        // 返回成员总数
        console.log(a.size);

        // 去除重复数组的方法 Array.from方法可以将 Set 结构转为数组。
        const arr = [1, 2, 4, 6, 2, 4];
        const b = Array.from(new Set(arr));
        const c = [...new Set(arr)];
        console.log(b, c);

        // 提供了两种方法，直接在遍历操作中改变原来的 Set 结构。
        // set的值是2, 4, 6
        // 方法一
        let d = new Set([1, 2, 3]);
        d = new Set([...d].map(val => val * 2));
        // 方法二
        let e = new Set([1, 2, 3]);
        e = new Set(Array.from(e, val => val * 2));
        console.log(d, e);

        // Set.prototype.keys()：返回键名的遍历器
        // Set.prototype.values()：返回键值的遍历器
        // Set.prototype.entries()：返回键值对的遍历器
        // Set.prototype.forEach()：使用回调函数遍历每个成员
        let set = new Set(['red', 'green', 'blue']);
        for (let item of set.keys()) {
            console.log(item);
        }
        // red
        // green
        // blue

        for (let item of set.values()) {
            console.log(item);
        }
        // red
        // green
        // blue

        for (let item of set.entries()) {
            console.log(item);
        }
        // ["red", "red"]
        // ["green", "green"]
        // ["blue", "blue"]
    </script>
</body>
</html>