<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>浅拷贝（复制）</title>
</head>
<body>
	<script src="script/jquery.js"></script>
    <script>
        // 方法一 直接赋值
        // let obj = {a: 1, b: 2};
        // let obj1 = obj;
        // obj.c = 3;
        // console.log(obj1);

        // 方法二 Object.assign()
        // newObj = Object.assign(target, ...source)
        // Object.assign方法只会拷贝source对象自身的并且可枚举的属性到target。
        // target值改变newObj也会改变
        // source普通值改变，不影响newObj，但引用值改变，会反映到newObj中
        // 所以Object.assign()拷贝的是属性值。假如源对象的属性值是一个对象的引用，那么它也只指向那个引用。
        let sourceObj = {
            a: 1, 
            b: 2, 
            fun: function() {
                console.log(1);
            },
            uni: [1, 2, 3, 4]
        };  
        let currentObj = Object.assign({}, sourceObj);
        sourceObj.a = 5; // currentObj中不改变
        sourceObj.uni.push(5); // currentObj中被更改了
        console.log(currentObj);

        // 方法三 扩展运算符
        // let sourceArr = [1, 2, 3, 4];
        // let currentArr = [...sourceArr];
        // sourceArr.push(5); // currentArr不变
        // console.log(currentArr);

        // 方法四 concat
        // let sourceArr = [1, 2, 3, 4];
        // let currentArr = [].concat(sourceArr);
        // sourceArr.push(5); // currentArr不变
        // console.log(currentArr);

        // 方法五 slice（数组的浅拷贝）
        // let sourceArr = [1, 2, 3, 4];
        // let currentArr = sourceArr.slice(0);
        // sourceArr.push(5); // currentArr不变
        // console.log(currentArr);

        // 方法六 jQuery.extend()
        // let sourceObj = {
        //     a: 1, 
        //     b: 2, 
        //     fun: function() {
        //         console.log(1);
        //     },
        //     uni: [1, 2, 3, 4]
        // };  
        // let currentObj = $.extend({}, sourceObj);
        // sourceObj.a = 5; // currentObj中不改变
        // sourceObj.uni.push(5); // currentObj中被更改了
        // console.log(currentObj);
    </script>
</body>
</html>