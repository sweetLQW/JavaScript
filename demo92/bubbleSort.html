<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>冒泡排序</title>
</head>
<body>
    <script>
        let arr = Array.from({length: 20}, () => Math.floor(Math.random() * 20));
        console.log(arr);

        /**
         * 冒泡排序 稳定算法
         * 时间复杂度：O(n²)
         * @params {Array} list 要排序的数组
         * @params {Number} [type=1] 1升序 -1降序
        */
        const bubbleSort = (list, type = 1) => {

            if (Object.prototype.toString.call(list) !== '[object Array]') {
                return list;
            }

            let len = list.length;

            for (let i = 0; i < len - 1; i++) {

                let flag = false;
                for (let j = 0; j < len - 1 - i; j++) {
                    if (type * (list[j] - list[j + 1]) > 0) {
                        [list[j], list[j + 1]] = [list[j + 1], list[j]];
                        flag = true;
                    }
                }
                if (!flag) {
                    break;
                }

            }

            return list;
        }

        console.log(bubbleSort(arr, -1));
    </script>
</body>
</html>